<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家长中心 - AI智能写作教学平台</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <link href="../css/parent/dashboard.css" rel="stylesheet">
</head>
<body>
    <!-- 顶部导航 -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">AI智能写作教学平台 - 家长中心</a>
            <div class="d-flex align-items-center">
                <span class="navbar-text me-3">欢迎您，<span id="parentName">张三</span>家长</span>
                <div class="notification-icon me-3 position-relative">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">2</span>
                </div>
                <button class="btn btn-outline-primary btn-sm" onclick="logout()">退出</button>
            </div>
        </div>
    </nav>

    <!-- 主要内容区 -->
    <div class="container mt-4">
        <!-- 概览卡片 -->
        <div class="row overview-cards mb-4">
            <div class="col-md-3">
                <div class="card overview-card">
                    <div class="card-body">
                        <div class="overview-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="overview-content">
                            <h6 class="card-subtitle">今日学习</h6>
                            <p class="card-text" id="todayStudy">45分钟</p>
                            <div class="overview-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>较昨日+15分钟</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card overview-card">
                    <div class="card-body">
                        <div class="overview-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="overview-content">
                            <h6 class="card-subtitle">作业完成</h6>
                            <p class="card-text" id="homeworkCompletion">85%</p>
                            <div class="overview-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>高于平均5%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card overview-card">
                    <div class="card-body">
                        <div class="overview-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="overview-content">
                            <h6 class="card-subtitle">综合评分</h6>
                            <p class="card-text" id="overallScore">88分</p>
                            <div class="overview-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>进步3分</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card overview-card">
                    <div class="card-body">
                        <div class="overview-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="overview-content">
                            <h6 class="card-subtitle">写作兴趣</h6>
                            <p class="card-text" id="writingInterest">较高</p>
                            <div class="overview-trend neutral">
                                <i class="fas fa-minus"></i>
                                <span>持平</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 主要功能区 -->
        <div class="row">
            <!-- 左侧栏 -->
            <div class="col-lg-8">
                <!-- 学习监督 -->
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">
                            <i class="fas fa-chart-line me-2"></i>
                            学习情况
                        </h5>
                        <div class="header-actions">
                            <select class="form-select form-select-sm d-inline-block w-auto me-2">
                                <option>本周</option>
                                <option>本月</option>
                                <option>本学期</option>
                            </select>
                            <a href="progress.html" class="btn btn-link">详细报告</a>
                        </div>
                    </div>
                    <div class="card-body">
                        <!-- 学习时间分布 -->
                        <div class="study-time-chart mb-4" id="studyTimeChart">
                            <!-- 学习时间分布图表 -->
                        </div>
                        
                        <!-- 作业完成情况 -->
                        <div class="homework-status mb-4">
                            <h6 class="section-title">作业完成情况</h6>
                            <div class="progress-list">
                                <div class="progress-item">
                                    <div class="progress-header">
                                        <span class="progress-title">本周作业</span>
                                        <span class="progress-value">5/6</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" style="width: 83%"></div>
                                    </div>
                                </div>
                                <div class="progress-item">
                                    <div class="progress-header">
                                        <span class="progress-title">写作练习</span>
                                        <span class="progress-value">3/3</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div class="progress-item">
                                    <div class="progress-header">
                                        <span class="progress-title">阅读任务</span>
                                        <span class="progress-value">2/3</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-info" role="progressbar" style="width: 66%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 待完成任务 -->
                        <div class="todo-list">
                            <h6 class="section-title">待完成任务</h6>
                            <div class="task-list">
                                <div class="task-item">
                                    <div class="task-content">
                                        <i class="fas fa-file-alt task-icon"></i>
                                        <div class="task-info">
                                            <h6 class="task-title">完成作文《我的理想》</h6>
                                            <p class="task-desc">字数要求800字以上，注意结构完整</p>
                                        </div>
                                    </div>
                                    <div class="task-meta">
                                        <span class="task-deadline">今天截止</span>
                                        <span class="badge bg-warning">紧急</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-content">
                                        <i class="fas fa-book task-icon"></i>
                                        <div class="task-info">
                                            <h6 class="task-title">阅读《小王子》</h6>
                                            <p class="task-desc">完成读书笔记和感想</p>
                                        </div>
                                    </div>
                                    <div class="task-meta">
                                        <span class="task-deadline">3天后截止</span>
                                        <span class="badge bg-info">进行中</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 能力诊断 -->
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">
                            <i class="fas fa-diagnoses me-2"></i>
                            能力诊断
                        </h5>
                        <a href="diagnosis.html" class="btn btn-link">查看详情</a>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <!-- 能力雷达图 -->
                                <div class="ability-radar mb-4" id="abilityRadar"></div>
                            </div>
                            <div class="col-md-6">
                                <!-- 能力评估列表 -->
                                <div class="ability-list">
                                    <div class="ability-item">
                                        <div class="ability-info">
                                            <h6>内容构思</h6>
                                            <div class="ability-score">
                                                <span class="score">85</span>
                                                <span class="trend positive">+5</span>
                                            </div>
                                        </div>
                                        <p class="ability-desc">善于观察生活，想象力丰富</p>
                                    </div>
                                    <div class="ability-item">
                                        <div class="ability-info">
                                            <h6>语言表达</h6>
                                            <div class="ability-score">
                                                <span class="score">78</span>
                                                <span class="trend positive">+3</span>
                                            </div>
                                        </div>
                                        <p class="ability-desc">用词准确，语句通顺</p>
                                    </div>
                                    <div class="ability-item">
                                        <div class="ability-info">
                                            <h6>结构布局</h6>
                                            <div class="ability-score">
                                                <span class="score">72</span>
                                                <span class="trend negative">-2</span>
                                            </div>
                                        </div>
                                        <p class="ability-desc">需要加强文章结构训练</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧栏 -->
            <div class="col-lg-4">
                <!-- 快捷操作 -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-bolt me-2"></i>
                            快捷操作
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="quick-actions">
                            <a href="#" class="quick-action-item">
                                <i class="fas fa-edit"></i>
                                <span>查看作业</span>
                            </a>
                            <a href="#" class="quick-action-item">
                                <i class="fas fa-comment-alt"></i>
                                <span>老师反馈</span>
                            </a>
                            <a href="#" class="quick-action-item">
                                <i class="fas fa-calendar-alt"></i>
                                <span>学习计划</span>
                            </a>
                            <a href="#" class="quick-action-item">
                                <i class="fas fa-book"></i>
                                <span>学习资源</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 最新动态 -->
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">
                            <i class="fas fa-bell me-2"></i>
                            最新动态
                        </h5>
                        <a href="notifications.html" class="btn btn-link">全部</a>
                    </div>
                    <div class="card-body">
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon bg-primary">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>获得写作之星勋章</h6>
                                    <p>作文《我的梦想》获得老师表扬</p>
                                    <span class="activity-time">10分钟前</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon bg-success">
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>完成每周写作任务</h6>
                                    <p>本周已完成3篇写作练习</p>
                                    <span class="activity-time">2小时前</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon bg-info">
                                    <i class="fas fa-comment"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>收到老师评语</h6>
                                    <p>王老师对最新作文进行了点评</p>
                                    <span class="activity-time">昨天</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 辅导建议 -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-lightbulb me-2"></i>
                            辅导建议
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="guide-list">
                            <div class="guide-item">
                                <div class="guide-icon">
                                    <i class="fas fa-book-reader"></i>
                                </div>
                                <div class="guide-content">
                                    <h6>加强阅读训练</h6>
                                    <p>建议每天安排30分钟阅读时间，培养阅读习惯</p>
                                    <a href="#" class="guide-action">查看推荐书单</a>
                                </div>
                            </div>
                            <div class="guide-item">
                                <div class="guide-icon">
                                    <i class="fas fa-pen"></i>
                                </div>
                                <div class="guide-content">
                                    <h6>结构训练</h6>
                                    <p>针对文章结构较弱的问题，建议进行专项训练</p>
                                    <a href="#" class="guide-action">查看训练方法</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI助手浮动按钮 -->
    <div class="ai-assistant-btn" id="aiAssistantBtn">
        <i class="fas fa-robot"></i>
    </div>

    <!-- AI助手对话界面 -->
    <div class="ai-chat-panel" id="aiChatPanel">
        <div class="chat-header">
            <div class="chat-title">
                <i class="fas fa-robot"></i>
                <span>AI写作助手</span>
            </div>
            <div class="chat-actions">
                <button class="function-btn" title="切换功能">
                    <i class="fas fa-th-large"></i>
                </button>
                <button class="close-btn" id="closeChatBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        
        <!-- 功能选择面板 -->
        <div class="function-panel" id="functionPanel">
            <div class="function-item" data-function="analysis">
                <i class="fas fa-chart-bar"></i>
                <span>学情分析</span>
                <p>分析孩子的写作水平</p>
            </div>
            <div class="function-item" data-function="guide">
                <i class="fas fa-chalkboard-teacher"></i>
                <span>辅导指导</span>
                <p>获取科学辅导方法</p>
            </div>
            <div class="function-item" data-function="resource">
                <i class="fas fa-book-reader"></i>
                <span>资源推荐</span>
                <p>推荐优质学习资源</p>
            </div>
            <div class="function-item" data-function="communication">
                <i class="fas fa-comments"></i>
                <span>沟通助手</span>
                <p>辅助家校沟通交流</p>
            </div>
        </div>

        <!-- 对话内容区 -->
        <div class="chat-messages" id="chatMessages">
            <div class="message system">
                您好!我是AI助手,可以为您提供以下服务:
                <ul>
                    <li>分析孩子的写作学习情况</li>
                    <li>提供科学的辅导方法建议</li>
                    <li>推荐优质的写作学习资源</li>
                    <li>协助您与老师进行沟通</li>
                </ul>
                请问有什么可以帮您?
            </div>
        </div>

        <!-- 输入区域 -->
        <div class="chat-input">
            <textarea 
                id="messageInput" 
                placeholder="请输入您的问题..."
                rows="1"
            ></textarea>
            <button class="send-btn" id="sendMessageBtn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="../js/parent/dashboard.js"></script>
</body>
</html>